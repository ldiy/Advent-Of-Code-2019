<?php
function pattern($element){
    $result = array();
    $base_pattern = array(0, 1, 0, -1);
    foreach($base_pattern as $k){
        for($i = 0; $i < $element; $i++){
            array_push($result,$k);
        }
    }
    return $result;
}



function calc_phase($input,$len){
    $result = array();
    for($i = 0; $i < $len; $i++){
        $pattern = pattern($i + 1);
        $pat_len = count($pattern);
        $k = 1;
        array_push($result,0);
        for($j = 0; $j < $len; $j++){
            $test = (int)$input[$j] * (int)$pattern[$k];
            $result[$i] += $test;
            $k++;
            if($k >= $pat_len) $k = 0;
        }
        $result[$i] = abs($result[$i] % 10);
    }
    return $result;
}

$input = str_split("59777373021222668798567802133413782890274127408951008331683345339720122013163879481781852674593848286028433137581106040070180511336025315315369547131580038526194150218831127263644386363628622199185841104247623145887820143701071873153011065972442452025467973447978624444986367369085768018787980626750934504101482547056919570684842729787289242525006400060674651940042434098846610282467529145541099887483212980780487291529289272553959088376601234595002785156490486989001949079476624795253075315137318482050376680864528864825100553140541159684922903401852101186028076448661695003394491692419964366860565639600430440581147085634507417621986668549233797848");
$len = count($input);
for($i = 0; $i < 100; $i++){
    $input = calc_phase($input,$len);
}

for($i = 0; $i<8; $i++)
    echo $input[$i];
//print_r($input);
?>